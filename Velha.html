<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Jogo da Velha Moderno</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif;}
body{background:#0b0b0c;color:#eef2f5;display:flex;flex-direction:column;align-items:center;padding:36px;}
h1{color:#fff;font-weight:700;margin-bottom:20px;letter-spacing:1px;text-shadow:0 2px 6px rgba(0,0,0,0.7);}
.panel{width:100%;max-width:500px;background:linear-gradient(180deg,#111,#1a1a1a);border-radius:24px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,0.7);position:relative;}
#mensagem{text-align:center;font-size:20px;margin-bottom:16px;color:#0fdfff;font-weight:600;text-shadow:0 2px 6px rgba(0,0,0,0.5);}
.check-container{text-align:center;margin-bottom:16px;color:#7ee7ff;}
.check-container input[type="checkbox"]{transform:scale(1.2);margin-right:8px;cursor:pointer;}
.tabuleiro-wrap{position:relative;display:flex;justify-content:center;}
.tabuleiro{display:grid;grid-template-columns:repeat(3,140px);grid-template-rows:repeat(3,140px);gap:16px;background:transparent;}
.celula{width:140px;height:140px;background:linear-gradient(180deg,#1b1b1b,#151515);border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:70px;color:#0fdfff;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.7),inset 0 -6px 12px rgba(255,255,255,0.05);transition:.2s;}
.celula:hover{transform:translateY(-4px);background:#262626;box-shadow:0 14px 28px rgba(0,0,0,0.7);}
.celula.filled{cursor:default;opacity:.95;}
#overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;justify-content:center;align-items:center;visibility:hidden;opacity:0;transition:.2s;}
#overlay.visible{visibility:visible;opacity:1;}
#overlay button{padding:18px 32px;font-size:20px;font-weight:600;border-radius:16px;border:none;background:linear-gradient(180deg,#0fdfff,#0096b0);color:#fff;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.6);transition:.2s;}
#overlay button:hover{background:linear-gradient(180deg,#00ffff,#00a0c2);}
#placar{display:flex;justify-content:center;gap:16px;margin-top:20px;}
.placar-box{background:#1a1a1a;padding:14px 20px;border-radius:18px;min-width:100px;text-align:center;box-shadow:0 6px 18px rgba(0,0,0,0.6);font-weight:bold;display:flex;flex-direction:column;align-items:center;}
.placar-box span{margin-top:6px;color:#0fdfff;font-size:24px;}
@media(max-width:600px){.tabuleiro{grid-template-columns:repeat(3,100px);grid-template-rows:repeat(3,100px);gap:12px;}.celula{width:100px;height:100px;font-size:50px;border-radius:16px;}}
</style>
</head>
<body>
<h1>Jogo da Velha</h1>
<div class="panel">
  <div id="mensagem">Vez de X</div>
  <div class="check-container">
    <label><input type="checkbox" id="chkIA" checked> Jogar contra IA</label>
  </div>
  <div class="tabuleiro-wrap">
    <div class="tabuleiro" id="tabuleiro"></div>
    <div id="overlay"><button id="btnReiniciar">Reiniciar</button></div>
  </div>
  <div id="placar">
    <div class="placar-box" id="boxX">X<span id="scoreX">0</span></div>
    <div class="placar-box" id="boxO">O<span id="scoreO">0</span></div>
  </div>
</div>
<script>
let tabuleiro=Array(9).fill(''),jogadorAtual='X',jogoAtivo=true;
let overlay=document.getElementById('overlay');
let tabuleiroDiv=document.getElementById('tabuleiro');
let mensagem=document.getElementById('mensagem');
let scoreX=0,scoreO=0;
const scoreXSpan=document.getElementById('scoreX');
const scoreOSpan=document.getElementById('scoreO');
const boxX=document.getElementById('boxX');
const boxO=document.getElementById('boxO');
const chkIA=document.getElementById('chkIA');

function criarTabuleiro(){tabuleiroDiv.innerHTML='';tabuleiro.forEach((v,i)=>{let c=document.createElement('div');c.className='celula'+(v?' filled':'');c.textContent=v;c.addEventListener('click',()=>clicarCelula(i));tabuleiroDiv.appendChild(c);});}
function clicarCelula(i){if(!jogoAtivo||tabuleiro[i]!=='')return;if(chkIA.checked&&jogadorAtual==='O')return;mover(i);}
function mover(i){if(!jogoAtivo||tabuleiro[i]!=='')return;tabuleiro[i]=jogadorAtual;criarTabuleiro();if(verificarVitoria()){mensagem.textContent=`${jogadorAtual} venceu!`;jogadorAtual==='X'?scoreX++:scoreO++;atualizarPlacar();fimJogo();return;}if(tabuleiro.every(c=>c!=='')){mensagem.textContent='Empate!';fimJogo();return;}jogadorAtual=jogadorAtual==='X'?'O':'X';mensagem.textContent=`Vez de ${jogadorAtual}`;if(chkIA.checked&&jogadorAtual==='O')setTimeout(jogarIA,400);}
function jogarIA(){if(!jogoAtivo)return;let j=melhorJogada('O');if(j===null)j=melhorJogada('X');if(j===null&&tabuleiro[4]==='')j=4;const c=[0,2,6,8].filter(i=>tabuleiro[i]==='');if(j===null&&c.length)j=c[Math.floor(Math.random()*c.length)];const l=[1,3,5,7].filter(i=>tabuleiro[i]==='');if(j===null&&l.length)j=l[Math.floor(Math.random()*l.length)];if(j!==null)mover(j);}
function melhorJogada(s){const comb=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const c of comb){let v=c.map(i=>tabuleiro[i]);if(v.filter(x=>x===s).length===2&&v.includes(''))return c[v.indexOf('')];}return null;}
function verificarVitoria(){const comb=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];return comb.some(c=>c.every(i=>tabuleiro[i]===jogadorAtual));}
function fimJogo(){jogoAtivo=false;overlay.classList.add('visible');tabuleiroDiv.style.filter='blur(4px)';}
function reiniciar(){tabuleiro=Array(9).fill('');jogadorAtual='X';jogoAtivo=true;criarTabuleiro();mensagem.textContent='Vez de X';overlay.classList.remove('visible');tabuleiroDiv.style.filter='none';}
function atualizarPlacar(){scoreXSpan.textContent=scoreX;scoreOSpan.textContent=scoreO;}
function atualizarNomes(){if(chkIA.checked){boxX.firstChild.textContent='Jogador X';boxO.firstChild.textContent='I.A';}else{boxX.firstChild.textContent='Jogador 1 X';boxO.firstChild.textContent='Jogador 2 O';}scoreX=0;scoreO=0;atualizarPlacar();reiniciar();}
chkIA.addEventListener('change',()=>{atualizarNomes();});
document.getElementById('btnReiniciar').addEventListener('click',reiniciar);

criarTabuleiro();
atualizarNomes();
</script>
</body>
</html>
